{"ast":null,"code":"var _jsxFileName = \"/Users/vineettallavajhala/workspace/Servicechain.io/packages/react-app/src/components/Contract/FunctionForm.jsx\";\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/accessible-emoji */\nimport React, { useState } from \"react\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { Row, Col, Input, Divider, Tooltip, Button } from \"antd\";\nimport { Transactor } from \"../../helpers\";\nimport tryToDisplay from \"./utils\";\nexport default function FunctionForm({\n  contractFunction,\n  functionInfo,\n  provider,\n  gasPrice,\n  triggerRefresh\n}) {\n  const [form, setForm] = useState({});\n  const [txValue, setTxValue] = useState();\n  const [returnValue, setReturnValue] = useState();\n  const tx = Transactor(provider, gasPrice);\n\n  const handleUpdateForm = (event, name) => {\n    const formUpdate = { ...form\n    };\n    formUpdate[name] = event.target.value;\n    setForm(formUpdate);\n  };\n\n  const inputs = functionInfo.inputs.map(input => /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: 2\n    },\n    key: \"inputs\" + input.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    size: \"large\",\n    placeholder: input.name,\n    value: form[input.name],\n    onChange: e => handleUpdateForm(e, input.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  })));\n  const txValueInput = /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: 2\n    },\n    key: \"txValueInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"transaction value\",\n    onChange: e => setTxValue(e.target.value),\n    value: txValue,\n    addonAfter: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      title: \" * 10^18 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      type: \"dashed\",\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: async () => {\n        let floatValue = parseFloat(txValue);\n        if (floatValue) setTxValue(\"\" + floatValue * 10 ** 18);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 19\n      }\n    }, \"\\u2733\\uFE0F\"))), /*#__PURE__*/React.createElement(Col, {\n      span: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      title: \"number to hex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      type: \"dashed\",\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: async () => {\n        setTxValue(BigNumber.from(txValue).toHexString());\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, \"#\\uFE0F\\u20E3\"))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }));\n\n  if (functionInfo.payable) {\n    inputs.push(txValueInput);\n  }\n\n  const buttonIcon = functionInfo.type === \"call\" ? /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginLeft: -32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 53\n    }\n  }, \"Read\\uD83D\\uDCE1\") : /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginLeft: -32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 104\n    }\n  }, \"Send\\uD83D\\uDCB8\");\n  inputs.push( /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      cursor: \"pointer\",\n      margin: 2\n    },\n    key: \"goButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    onChange: e => setReturnValue(e.target.value),\n    defaultValue: \"\",\n    bordered: false,\n    disabled: true,\n    value: returnValue,\n    suffix: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: 50,\n        height: 30,\n        margin: 0\n      },\n      type: \"default\",\n      onClick: async () => {\n        console.log(\"CLICK\");\n        const args = functionInfo.inputs.map(input => form[input.name]);\n        const overrides = {};\n\n        if (txValue) {\n          overrides.value = txValue; // ethers.utils.parseEther()\n        } // console.log(\"Running with extras\",extras)\n\n\n        const returned = await tx(contractFunction(...args, overrides));\n        const result = tryToDisplay(returned);\n        console.log(\"SETTING RESULT:\", result);\n        setReturnValue(result);\n        triggerRefresh(true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, buttonIcon),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  })));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 8,\n    style: {\n      textAlign: \"right\",\n      opacity: 0.333,\n      paddingRight: 6,\n      fontSize: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, functionInfo.name), /*#__PURE__*/React.createElement(Col, {\n    span: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, inputs)), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/vineettallavajhala/workspace/Servicechain.io/packages/react-app/src/components/Contract/FunctionForm.jsx"],"names":["React","useState","BigNumber","Row","Col","Input","Divider","Tooltip","Button","Transactor","tryToDisplay","FunctionForm","contractFunction","functionInfo","provider","gasPrice","triggerRefresh","form","setForm","txValue","setTxValue","returnValue","setReturnValue","tx","handleUpdateForm","event","name","formUpdate","target","value","inputs","map","input","margin","e","txValueInput","cursor","floatValue","parseFloat","from","toHexString","payable","push","buttonIcon","type","marginLeft","width","height","console","log","args","overrides","returned","result","textAlign","opacity","paddingRight","fontSize"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/accessible-emoji */\nimport React, { useState } from \"react\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { Row, Col, Input, Divider, Tooltip, Button } from \"antd\";\nimport { Transactor } from \"../../helpers\";\nimport tryToDisplay from \"./utils\";\n\nexport default function FunctionForm({ contractFunction, functionInfo, provider, gasPrice, triggerRefresh}) {\n  const [form, setForm] = useState({});\n  const [txValue, setTxValue] = useState();\n  const [returnValue, setReturnValue] = useState();\n\n  const tx = Transactor(provider, gasPrice);\n\n  const handleUpdateForm = (event, name) => {\n    const formUpdate = { ...form };\n    formUpdate[name] = event.target.value;\n    setForm(formUpdate);\n  };\n\n  const inputs = functionInfo.inputs.map(input => (\n    <div style={{ margin: 2 }} key={\"inputs\"+input.name}>\n      <Input\n        size=\"large\"\n        placeholder={input.name}\n        value={form[input.name]}\n        onChange={e => handleUpdateForm(e, input.name)}\n      />\n    </div>\n  ));\n\n  const txValueInput = (\n    <div style={{ margin: 2 }} key={\"txValueInput\"}>\n      <Input\n        placeholder=\"transaction value\"\n        onChange={e => setTxValue(e.target.value)}\n        value={txValue}\n        addonAfter={\n          <div>\n            <Row>\n              <Col span={16}>\n                <Tooltip placement=\"right\" title={\" * 10^18 \"}>\n                  <div\n                    type=\"dashed\"\n                    style={{cursor:\"pointer\"}}\n                    onClick={async () => {\n                      let floatValue = parseFloat(txValue)\n                      if(floatValue) setTxValue(\"\" +floatValue  * 10 ** 18);\n                    }}\n                  >\n                    ✳️\n                  </div>\n                </Tooltip>\n              </Col>\n              <Col span={16}>\n              <Tooltip placement=\"right\" title={\"number to hex\"}>\n                <div\n                  type=\"dashed\"\n                  style={{cursor:\"pointer\"}}\n                  onClick={async () => {\n                    setTxValue(BigNumber.from(txValue).toHexString());\n                  }}\n                >\n                  #️⃣\n                </div>\n                </Tooltip>\n              </Col>\n            </Row>\n          </div>\n        }\n      />\n    </div>\n  );\n\n  if (functionInfo.payable) {\n    inputs.push(txValueInput);\n  }\n\n  const buttonIcon = functionInfo.type === \"call\" ? <Button style={{marginLeft:-32}}>Read📡</Button> : <Button style={{marginLeft:-32}}>Send💸</Button>;\n  inputs.push(\n    <div style={{ cursor: \"pointer\", margin: 2 }} key={\"goButton\"}>\n      <Input\n        onChange={e => setReturnValue(e.target.value)}\n        defaultValue=\"\"\n        bordered={false}\n        disabled={true}\n        value={returnValue}\n        suffix={\n          <div\n            style={{width:50,height:30,margin:0}}\n            type=\"default\"\n            onClick={async () => {\n              console.log(\"CLICK\");\n              const args = functionInfo.inputs.map(input => form[input.name]);\n\n              const overrides = {};\n              if (txValue) {\n                overrides.value = txValue; // ethers.utils.parseEther()\n              }\n\n              // console.log(\"Running with extras\",extras)\n              const returned = await tx(contractFunction(...args, overrides));\n\n              const result = tryToDisplay(returned);\n\n              console.log(\"SETTING RESULT:\", result);\n              setReturnValue(result);\n              triggerRefresh(true);\n            }}\n          >\n            {buttonIcon}\n          </div>\n        }\n      />\n    </div>,\n  );\n\n  return (\n    <div>\n      <Row>\n        <Col\n          span={8}\n          style={{\n            textAlign: \"right\",\n            opacity: 0.333,\n            paddingRight: 6,\n            fontSize: 24,\n          }}\n        >\n          {functionInfo.name}\n        </Col>\n        <Col span={16}>{inputs}</Col>\n      </Row>\n      <Divider />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}